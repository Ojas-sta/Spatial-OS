<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spatial Aura</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>

<body>
  <div class="ambient-bg"></div>
  <canvas id="bg-canvas"></canvas>

  <div id="app">
    <!-- Landing Page -->
    <div id="landing" class="landing-container">
      <div>
        <h1 class="title">Spatial Aura</h1>
        <div class="subtitle">Dual-Device Depth Sensing System</div>
      </div>

      <div class="card-row">
        <div class="role-card glass" id="btn-target">
          <div class="role-icon">ğŸ’»</div>
          <div class="role-name">Target Mode</div>
          <div class="role-desc">Laptop/Desktop. Acts as the main display and processing unit.</div>
        </div>

        <div class="role-card glass" id="btn-client">
          <div class="role-icon">ğŸ“±</div>
          <div class="role-name">Client Mode</div>
          <div class="role-desc">Phone/Tablet. Acts as an external sensor camera.</div>
        </div>
      </div>
    </div>

    <!-- Target UI -->
    <div id="target-ui" class="landing-container hidden">
      <div class="subtitle">Waiting for Client Connection...</div>
      <div class="code-display" id="room-code">----</div>
      <div class="role-desc">Enter this code on your mobile device</div>
    </div>

    <!-- Client UI -->
    <div id="client-ui" class="landing-container hidden">
      <div class="subtitle">Enter Connection Code</div>
      <input type="number" id="code-input" class="code-input" placeholder="0000" maxlength="4" />
      <button id="btn-connect" class="btn">Connect Camera</button>
    </div>

    <!-- Active Workspace (For Target) -->
    <div id="workspace" class="hidden">
      <div id="video-container">
        <!-- Local Webcam -->
        <video id="local-video" playsinline muted autoplay></video>
        <!-- Remote Stream (Client) -->
        <video id="client-video" playsinline autoplay class="hidden" style="opacity:0;"></video>
        <!-- Hidden visually, processed by JS -->
      </div>

      <div id="canvas-layer"></div>
      <div id="cursor" class="cursor"></div>

      <div id="statusPill">
        Spatial Aura Connected
      </div>

      <div id="dock">
        <div class="icon" title="Notes">ğŸ“</div>
        <div class="icon" title="Photos">ğŸ–¼ï¸</div>
        <div class="icon" title="Settings">âš™ï¸</div>
        <div class="icon" title="Calibration">ğŸ¯</div>
      </div>

      <div class="debug-panel glass">
        <div class="stat-row"><span>FPS:</span> <span id="debug-fps">0</span></div>
        <div class="stat-row"><span>Gaze X:</span> <span id="debug-x">0</span></div>
        <div class="stat-row"><span>Gaze Y:</span> <span id="debug-y">0</span></div>
        <div class="stat-row"><span>Depth:</span> <span id="debug-z">0</span></div>
      </div>
    </div>

    <!-- Client Active View -->
    <div id="client-active" class="landing-container hidden">
      <div class="status-indicator connected"></div>
      <div class="title">Streaming...</div>
      <div class="role-desc">Point camera at user side profile</div>
    </div>

  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>